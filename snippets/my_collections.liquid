<div class="customCollection">
  <ul class="customList">
    {% for product in section.settings.collection.products %}
      <li class="customItem">
        {% if product.featured_image %}
          <img class="customImage" width="300" height="300" src="{{ product | image_url }}" alt="product"/>
        {% endif %}
        <h3>{{ product.title }}</h3>
        <p class="customDescription">{{ product.description }}</p>
        
       {% assign customPrice = product.price %}
        <p id="customPrice">{{ customPrice | money_with_currency }}</p>
        
        {% form 'product', product %}
            
                <select class="customSelect" name="Sort_ByColor" id="SortByColor">
          {% for variant in product.variants %}
            <option value="{{ variant.title | escape }}" data-variant-price="{{ variant.price }}">{{ variant.title }}</option>
          {% endfor %}
        </select>
   
<div style="display: flex">
    <quantity-input class="quantity" style="width: calc(12rem / var(--font-body-scale) + var(--inputs-border-width) * 2); margin-top: 17px; margin-right: 10px;" >
      <button class="quantity__button no-js-hidden" name="minus" type="button">
        <span class="visually-hidden">{{ 'products.product.quantity.decrease' | t: product: product.title | escape }}</span>
        {% render 'icon-minus' %}
      </button>
      <input class="quantity__input" type="number" name="quantity" id="quantity" min="1" value="1">
      <button class="quantity__button no-js-hidden" name="plus" type="button">
        <span class="visually-hidden">{{ 'products.product.quantity.increase' | t: product: product.title | escape }}</span>
        {% render 'icon-plus' %}
      </button>
    </quantity-input>
<!--     <input type="submit" value="Add to cart" class="button" style="margin-top: 17px" /> -->
  </div>
       
<!--         <div class="product-quantity">
            <label for="quantity">Quantity</label>
            <input name="quantity" id="quantity" value="1">
          </div> -->

        
       <button class="button product-add" type="submit">Add to cart</button>
     {% endform %}
      </li>
    {% endfor %}
  </ul>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
  var selectElement = document.getElementById('SortByColor');
  var priceElement = document.getElementById('customPrice');
  
  selectElement.addEventListener('change', function() {
    var selectedOption = selectElement.options[selectElement.selectedIndex];
    var selectedPrice = selectedOption.getAttribute('data-variant-price');
    var formattedPrice = formatCurrency(selectedPrice);

    priceElement.innerText = formattedPrice;
  });

  function formatCurrency(amount) {
    var formattedAmount = (parseFloat(amount) / 100).toFixed(2);
    return "â‚´" + formattedAmount + " UAH";
  }
});
</script>